{"version":3,"file":"js/806.bf5f5fff8ef7e21652ca.js","mappings":"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","sources":["webpack:///./src/components/ManifestEntitlementsList/ManifestEntitlementsList.tsx","webpack:///./src/hooks/useManifestEntitlements.ts","webpack:///./src/components/ManifestEntitlementsList/ManifestEntitlementsListContainer.tsx","webpack:///./src/hooks/useUpdateManifestSCAStatus.ts","webpack:///./src/components/SCAStatusSwitch/SCAStatusSwitch.tsx","webpack:///./src/components/SCAStatusSwitch/index.ts","webpack:///./src/components/ExternalLink/ExternalLink.tsx","webpack:///./src/components/ExternalLink/index.ts","webpack:///./src/components/SCAInfoIconWithPopover/index.ts","webpack:///./src/components/SCAInfoIconWithPopover/SCAInfoIconWithPopover.tsx","webpack:///./src/components/SatelliteManifestPanel/satelliteManifestPanelUtils.tsx","webpack:///./src/hooks/useExportSatelliteManifest.ts","webpack:///./src/components/CreateManifestButtonWithModal/index.ts","webpack:///./src/components/ManifestDetailSidePanel/index.ts","webpack:///./src/components/ManifestDetailSidePanel/ManifestDetailSidePanel.tsx","webpack:///./src/components/DeleteManifestConfirmationModal/DeleteManifestConfirmationModal.tsx","webpack:///./src/components/DeleteManifestConfirmationModal/index.ts","webpack:///./src/hooks/useDeleteSatelliteManifest.ts","webpack:///./src/components/SatelliteManifestPanel/SatelliteManifestPanel.tsx","webpack:///./src/hooks/useSatelliteManifests.ts","webpack:///./src/pages/SatelliteManifestPage/SatelliteManifestPage.tsx","webpack:///./src/pages/SatelliteManifestPage/index.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { Table, TableHeader, TableBody, nowrap } from '@patternfly/react-table';\nimport { Processing } from '../emptyState';\nimport './ManifestEntitlementsList.scss';\nvar ManifestEntitlementsList = function (_a) {\n    var entitlementsData = _a.entitlementsData, isLoading = _a.isLoading, isSuccess = _a.isSuccess, isError = _a.isError, entitlementsRowRef = _a.entitlementsRowRef;\n    useEffect(function () {\n        if (entitlementsRowRef === null || entitlementsRowRef === void 0 ? void 0 : entitlementsRowRef.current) {\n            entitlementsRowRef.current.scrollIntoView({ behavior: 'smooth', block: 'center' });\n            entitlementsRowRef.current.focus({ preventScroll: true });\n        }\n    }, [isSuccess]);\n    var columns = [\n        {\n            title: 'Subscription name',\n            transforms: [nowrap]\n        },\n        {\n            title: 'SKU',\n            transforms: [nowrap]\n        },\n        {\n            title: 'Contract number',\n            transforms: [nowrap]\n        },\n        {\n            title: 'Quantity',\n            transforms: [nowrap]\n        },\n        {\n            title: 'Start date',\n            transforms: [nowrap]\n        },\n        {\n            title: 'End date',\n            transforms: [nowrap]\n        }\n    ];\n    var getFormattedDate = function (date) {\n        if (!date)\n            return '';\n        var year = date.substr(0, 4);\n        var month = date.substr(5, 2);\n        var day = date.substr(8, 2);\n        return year + \"-\" + month + \"-\" + day;\n    };\n    var rows = [];\n    if (entitlementsData === null || entitlementsData === void 0 ? void 0 : entitlementsData.value) {\n        rows = entitlementsData === null || entitlementsData === void 0 ? void 0 : entitlementsData.value.map(function (entitlement) {\n            var formattedStartDate = getFormattedDate(entitlement.startDate);\n            var formattedEndDate = getFormattedDate(entitlement.endDate);\n            return [\n                entitlement.subscriptionName,\n                entitlement.sku,\n                entitlement.contractNumber,\n                entitlement.entitlementQuantity,\n                formattedStartDate,\n                formattedEndDate\n            ];\n        });\n    }\n    var actions = [\n        {\n            title: 'Remove Subscription',\n            onClick: function (event, rowId, rowData) {\n                // placeholder for now\n                console.log('clicked on Some action, on row: ', rowId, rowData);\n            }\n        },\n        {\n            title: 'Move Subscription',\n            onClick: function (event, rowId, rowData) {\n                // placeholder for now\n                console.log('clicked on Some action, on row: ', rowId, rowData);\n            }\n        }\n    ];\n    return (React.createElement(React.Fragment, null,\n        isLoading && !isError && (React.createElement(\"div\", { className: \"entitlement-list-loading-container\" },\n            React.createElement(Processing, null))),\n        isSuccess && !entitlementsData.valid && (React.createElement(\"div\", { className: \"no-entitlements-reason\" },\n            React.createElement(\"p\", { tabIndex: isSuccess ? 0 : -1, ref: entitlementsRowRef }, entitlementsData.reason))),\n        isSuccess && entitlementsData.valid && (React.createElement(\"div\", { ref: entitlementsRowRef },\n            React.createElement(Table, { \"aria-label\": \"Allocations table\", cells: columns, rows: rows, borders: false, \n                // actions={actions}\n                className: \"manifests_entitlement-list-table\" },\n                React.createElement(TableHeader, null),\n                React.createElement(TableBody, null)))),\n        isError && 'Something went wrong.  Please refresh the page and try again.'));\n};\nexport default ManifestEntitlementsList;\n","import { useQuery } from 'react-query';\nimport Cookies from 'js-cookie';\nvar getManifestEntitlements = function (uuid) {\n    var jwtToken = Cookies.get('cs_jwt');\n    return fetch(\"/api/rhsm/v2/manifests/\" + uuid + \"?include=entitlements\", {\n        headers: { Authorization: \"Bearer \" + jwtToken }\n    }).then(function (response) { return response.json(); });\n};\nvar useManifestEntitlements = function (uuid) {\n    return useQuery(['manifestEntitlements', uuid], function () { return getManifestEntitlements(uuid); });\n};\nexport { useManifestEntitlements as default };\n","import React from 'react';\nimport ManifestEntitlementsList from './ManifestEntitlementsList';\nimport useManifestEntitlements from '../../hooks/useManifestEntitlements';\nvar ManifestEntitlementsListContainer = function (_a) {\n    var _b;\n    var uuid = _a.uuid, entitlementsRowRef = _a.entitlementsRowRef;\n    var _c = useManifestEntitlements(uuid), isLoading = _c.isLoading, isSuccess = _c.isSuccess, isError = _c.isError, data = _c.data;\n    return (React.createElement(ManifestEntitlementsList, { isLoading: isLoading, isSuccess: isSuccess, isError: isError, entitlementsData: (_b = data === null || data === void 0 ? void 0 : data.body) === null || _b === void 0 ? void 0 : _b.entitlementsAttached, entitlementsRowRef: entitlementsRowRef }));\n};\nexport default ManifestEntitlementsListContainer;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport Cookies from 'js-cookie';\nimport { useMutation, useQueryClient } from 'react-query';\nvar updateManifestSCAStatus = function (data) {\n    var uuid = data.uuid, newSCAStatus = data.newSCAStatus;\n    var jwtToken = Cookies.get('cs_jwt');\n    var requestData = {\n        simpleContentAccess: newSCAStatus\n    };\n    return fetch(\"/api/rhsm/v2/manifests/\" + uuid, {\n        method: 'PUT',\n        headers: { Authorization: \"Bearer \" + jwtToken },\n        body: JSON.stringify(requestData)\n    })\n        .then(function (response) {\n        if (response.status !== 204) {\n            throw new Error(\"Status Code \" + response.status + \".  Error updating SCA status: \" + response.statusText + \".  \");\n        }\n        return { success: true, status: response.status };\n    })\n        .catch(function (e) {\n        console.error(e);\n    });\n};\nvar updateManifestSCAQueryData = function (queryClient, uuid, newSCAStatus) {\n    var oldManifestEntryData = queryClient.getQueryData('manifests');\n    var newManifestEntryData = oldManifestEntryData.map(function (manifestEntry) {\n        if (manifestEntry.uuid === uuid) {\n            var updatedManifestEntry = __assign({}, manifestEntry);\n            updatedManifestEntry.simpleContentAccess = newSCAStatus;\n            return updatedManifestEntry;\n        }\n        else {\n            return manifestEntry;\n        }\n    });\n    queryClient.setQueryData('manifests', newManifestEntryData);\n};\nvar updateManifestEntitlementsData = function (queryClient, uuid, newSCAStatus) {\n    var oldEntitlementsData = queryClient.getQueryData([\n        'manifestEntitlements',\n        uuid\n    ]);\n    if (!oldEntitlementsData)\n        return;\n    var newEntitlementsData = {\n        body: __assign(__assign({}, oldEntitlementsData.body), { simpleContentAccess: newSCAStatus })\n    };\n    queryClient.setQueryData(['manifestEntitlements', uuid], newEntitlementsData);\n};\nvar useUpdateManifestSCAStatus = function () {\n    var queryClient = useQueryClient();\n    return useMutation(function (updateManifestSCAStatusParams) {\n        return updateManifestSCAStatus(updateManifestSCAStatusParams);\n    }, {\n        onSuccess: function (data, updateManifestSCAStatusParams) {\n            if (!data)\n                return;\n            var uuid = updateManifestSCAStatusParams.uuid, newSCAStatus = updateManifestSCAStatusParams.newSCAStatus;\n            updateManifestSCAQueryData(queryClient, uuid, newSCAStatus);\n            updateManifestEntitlementsData(queryClient, uuid, newSCAStatus);\n        }\n    });\n};\nexport { updateManifestSCAStatus, useUpdateManifestSCAStatus as default };\n","import React from 'react';\nimport { Spinner, Switch } from '@patternfly/react-core';\nimport ExclamationCircleIcon from '@patternfly/react-icons/dist/js/icons/exclamation-circle-icon';\nimport useUpdateManifestSCAStatus from '../../hooks/useUpdateManifestSCAStatus';\nimport './SCAStatusSwitch.scss';\nvar SCAStatusSwitch = function (_a) {\n    var scaStatus = _a.scaStatus, uuid = _a.uuid;\n    var isChecked = scaStatus.toLowerCase() === 'enabled';\n    var _b = useUpdateManifestSCAStatus(), data = _b.data, mutate = _b.mutate, isLoading = _b.isLoading, isError = _b.isError, isSuccess = _b.isSuccess;\n    var failedUpdatingSCAStatus = isError === true || (isSuccess && !data);\n    var updateManifestSCAStatus = function (uuid, currentSCAStatus) {\n        var newSCAStatus = currentSCAStatus.toLowerCase() === 'enabled' ? 'disabled' : 'enabled';\n        mutate({ uuid: uuid, newSCAStatus: newSCAStatus });\n    };\n    var handleChange = function () {\n        updateManifestSCAStatus(uuid, scaStatus);\n    };\n    var ErrorState = function () { return (React.createElement(React.Fragment, null,\n        React.createElement(ExclamationCircleIcon, { color: \"var(--pf-global--danger-color--100)\", className: \"sca-status-error-icon\" }),\n        React.createElement(\"span\", { className: \"sca-status-error-msg\" }, \"Something went wrong. Please refresh the page and try again.\"))); };\n    var LoadingState = function () { return React.createElement(Spinner, { size: \"lg\", className: \"sca-status-spinner\" }); };\n    var DisallowedState = function () { return React.createElement(\"p\", null, \"N/A\"); };\n    var SCASwitch = function () { return (React.createElement(Switch, { id: \"sca-status-switch-\" + uuid, \"data-testid\": \"sca-status-switch\", \"aria-label\": \"SCA Status for this Manifest is \" + scaStatus, isChecked: isChecked, onChange: handleChange, label: \"Enabled\", labelOff: \"Disabled\" })); };\n    if (failedUpdatingSCAStatus === true) {\n        return React.createElement(ErrorState, null);\n    }\n    else if (isLoading === true) {\n        return React.createElement(LoadingState, null);\n    }\n    else if (scaStatus === 'disallowed') {\n        return React.createElement(DisallowedState, null);\n    }\n    else {\n        return React.createElement(SCASwitch, null);\n    }\n};\nexport default SCAStatusSwitch;\n","import SCAStatusSwitch from './SCAStatusSwitch';\nexport default SCAStatusSwitch;\n","import React from 'react';\nimport { Button } from '@patternfly/react-core';\nimport ExternalLinkAltIcon from '@patternfly/react-icons/dist/js/icons/external-link-alt-icon';\nvar ExternalLink = function (_a) {\n    var href = _a.href, children = _a.children;\n    return (React.createElement(Button, { variant: \"link\", component: \"a\", href: href, target: \"_blank\", isInline: true, icon: React.createElement(ExternalLinkAltIcon, null), iconPosition: \"right\" }, children));\n};\nexport default ExternalLink;\n","import ExternalLink from './ExternalLink';\nexport default ExternalLink;\n","import SCAInfoIconWithPopover from './SCAInfoIconWithPopover';\nexport default SCAInfoIconWithPopover;\n","import React from 'react';\nimport { Popover } from '@patternfly/react-core';\nimport InfoIcon from '@patternfly/react-icons/dist/js/icons/info-circle-icon';\nimport ExternalLink from '../ExternalLink';\nimport './SCAInfoIconWithPopover.scss';\nvar SCAInfoIconWithPopover = function () {\n    var scaMoreInfoLink = 'https://access.redhat.com/documentation/en-us/subscription_central/2020-10/html/' +\n        'getting_started_with_subscription_watch_with_simple_content_access/assembly-activating-simplecontent' +\n        '#con-what-is-simplecontent_assembly-simplecontent-ctxt';\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Popover, { \"aria-label\": \"Learn more about Simple Content Access\", headerContent: \"Simple Content Access\", bodyContent: React.createElement(\"p\", null, \"Simple content access is a set of capabilities that enables a change in the way Red Hat manages its subscription and entitlement enforcement model. When enabled, you are allowed to consume content on your systems without strict entitlement enforcement.\"), footerContent: React.createElement(ExternalLink, { href: scaMoreInfoLink }, \"Learn more about enabling simple content access on an existing Satellite allocation and manifest\") },\n            React.createElement(InfoIcon, { className: \"sca-more-info-icon\", \"data-testid\": \"sca-more-info-icon\", onClick: function (event) {\n                    event.stopPropagation();\n                } }))));\n};\nexport default SCAInfoIconWithPopover;\n","var __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nimport React from 'react';\nimport { Button } from '@patternfly/react-core';\nimport { sortable, cellWidth, expandable, SortByDirection } from '@patternfly/react-table';\nimport ManifestEntitlementsListContainer from '../ManifestEntitlementsList/ManifestEntitlementsListContainer';\nimport SCAStatusSwitch from '../SCAStatusSwitch';\nimport SCAInfoIconWithPopover from '../SCAInfoIconWithPopover';\nimport semver from 'semver';\nexport var getTableHeaders = function (user) {\n    var tableHeaders = [\n        { title: 'Name', transforms: [sortable], cellFormatters: [expandable] },\n        { title: 'Version', transforms: [sortable] },\n        {\n            title: (React.createElement(React.Fragment, null,\n                \"Simple Content Access\",\n                React.createElement(SCAInfoIconWithPopover, null))),\n            transforms: [sortable, cellWidth(20)]\n        },\n        { title: 'UUID', transforms: [sortable] }\n    ];\n    if (user.isSCACapable === false) {\n        // remove SCA Status column\n        tableHeaders.splice(2, 1);\n    }\n    return tableHeaders;\n};\nvar formattedScaStatus = function (user, scaStatus, uuid) {\n    if (user.canWriteManifests) {\n        return (React.createElement(React.Fragment, { key: \"scastatusswitch-\" + uuid },\n            React.createElement(SCAStatusSwitch, { scaStatus: scaStatus, uuid: uuid })));\n    }\n    else {\n        return scaStatus;\n    }\n};\nexport var formatRow = function (row, rowIndex, handleRowManifestClick, user) {\n    var name = row[0];\n    var version = row[1];\n    var scaStatus = row[2];\n    var uuid = row[3];\n    var formattedRow = [\n        React.createElement(React.Fragment, { key: \"button-\" + uuid },\n            React.createElement(Button, { \"data-testid\": \"expand-details-button-\" + rowIndex, variant: \"link\", onClick: function () { return handleRowManifestClick(uuid, rowIndex); } }, name)),\n        version,\n        formattedScaStatus(user, scaStatus, uuid),\n        uuid\n    ];\n    if (user.isSCACapable === false) {\n        // remove SCA Status column\n        formattedRow.splice(2, 1);\n    }\n    return formattedRow;\n};\nexport var filterDataBySearchTerm = function (data, searchValue) {\n    return data.filter(function (entry) {\n        return ((entry.name || '').toLowerCase().includes(searchValue.toLowerCase().trim()) ||\n            (entry.version || '').toLowerCase().includes(searchValue.toLowerCase().trim()) ||\n            (entry.uuid || '').toLowerCase().includes(searchValue.toLowerCase().trim()));\n    });\n};\nexport var countManifests = function (data, searchValue) {\n    var filteredData = filterDataBySearchTerm(data, searchValue);\n    return filteredData.length;\n};\nexport var getFilteredRows = function (data, searchValue) {\n    return filterDataBySearchTerm(data, searchValue).map(function (entry) {\n        var scaStatus = entry.simpleContentAccess || 'disabled';\n        var manifestVersion = semver.coerce(entry.version);\n        var allowedSCAVersion = semver.coerce('6.3');\n        if (semver.lt(manifestVersion, allowedSCAVersion)) {\n            scaStatus = 'disallowed';\n        }\n        return [entry.name, entry.version, scaStatus, entry.uuid];\n    });\n};\nexport var getManifestName = function (data, uuid) {\n    var _a;\n    return (_a = data.find(function (entry) { return entry.uuid == uuid; })) === null || _a === void 0 ? void 0 : _a.name;\n};\nexport var sortFilteredRows = function (filteredRows, sortBy) {\n    var direction = sortBy.direction, index = sortBy.index;\n    /**\n     * This adjustedIndex is necessary because Patternfly\n     * has a strange quirk where, when a table has an\n     * onCollapse attribute, its index starts at 1, which throws off\n     * the sorting without the adjustment.\n     */\n    var adjustedIndex = index - 1;\n    var directionFactor = direction === SortByDirection.desc ? -1 : 1;\n    var sortedRows = filteredRows.sort(function (a, b) {\n        var term1 = a[adjustedIndex].toLowerCase();\n        var term2 = b[adjustedIndex].toLowerCase();\n        if (term1 < term2) {\n            return -1 * directionFactor;\n        }\n        else if (term1 > term2) {\n            return 1 * directionFactor;\n        }\n        else {\n            return 0;\n        }\n    });\n    return sortedRows;\n};\nexport var getSortedRows = function (data, searchValue, sortBy) {\n    var filteredRows = getFilteredRows(data, searchValue);\n    var sortedRows = sortFilteredRows(filteredRows, sortBy);\n    return sortedRows;\n};\nexport var getPaginatedRows = function (data, searchValue, page, perPage, sortBy) {\n    var first = (page - 1) * perPage;\n    var last = first + perPage;\n    return getSortedRows(data, searchValue, sortBy).slice(first, last);\n};\nexport var getRowsWithAllocationDetails = function (data, user, searchValue, page, perPage, rowExpandedStatus, handleRowManifestClick, entitlementsRowRefs, sortBy) {\n    /**\n     * Go through each row and add a toggleable row\n     * with details beneath it.\n     */\n    var currentPageRows = getPaginatedRows(data, searchValue, page, perPage, sortBy);\n    var rowsWithAllocationDetails = [];\n    currentPageRows.forEach(function (row, i) {\n        var uuid = row[3];\n        var isOpen = rowExpandedStatus[uuid] || false;\n        var parentIndex = (i + 1) * 2 - 2;\n        var expandedContent = isOpen ? (React.createElement(ManifestEntitlementsListContainer, { uuid: uuid, entitlementsRowRef: entitlementsRowRefs[i] })) : ('');\n        var formattedRow = formatRow(row, i, handleRowManifestClick, user);\n        // Add original row\n        rowsWithAllocationDetails.push({ isOpen: isOpen, cells: __spreadArray([], formattedRow) });\n        // Add details row\n        rowsWithAllocationDetails.push({\n            parent: parentIndex,\n            fullWidth: true,\n            noPadding: true,\n            cells: [{ title: expandedContent }]\n        });\n    });\n    return rowsWithAllocationDetails;\n};\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { useMutation } from 'react-query';\nimport Cookies from 'js-cookie';\nvar triggerManifestExport = function (uuid) {\n    var jwtToken = Cookies.get('cs_jwt');\n    return fetch(\"/api/rhsm/v2/manifests/\" + uuid + \"/export\", {\n        headers: { Authorization: \"Bearer \" + jwtToken }\n    }).then(function (response) {\n        return response.json();\n    });\n};\nvar sleep = function (milliseconds) {\n    return new Promise(function (resolve) { return setTimeout(resolve, milliseconds); });\n};\nvar getManifestExportStatus = function (uuid, exportJobID) { return __awaiter(void 0, void 0, void 0, function () {\n    var jwtToken, response;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                jwtToken = Cookies.get('cs_jwt');\n                return [4 /*yield*/, fetch(\"/api/rhsm/v2/manifests/\" + uuid + \"/exportJob/\" + exportJobID, {\n                        headers: { Authorization: \"Bearer \" + jwtToken }\n                    })];\n            case 1:\n                response = _a.sent();\n                if (!(response.status === 200)) return [3 /*break*/, 2];\n                return [2 /*return*/, response.json()];\n            case 2:\n                if (!(response.status === 202 || response.status === 404)) return [3 /*break*/, 4];\n                // Export not ready, we need to pause and retry.\n                return [4 /*yield*/, sleep(5000)];\n            case 3:\n                // Export not ready, we need to pause and retry.\n                _a.sent();\n                return [2 /*return*/, getManifestExportStatus(uuid, exportJobID)];\n            case 4: throw new Error('Error fetching status of exported manifest');\n        }\n    });\n}); };\nvar downloadExportedManifest = function (uuid, exportID) {\n    var jwtToken = Cookies.get('cs_jwt');\n    return fetch(\"/api/rhsm/v2/manifests/\" + uuid + \"/export/\" + exportID, {\n        headers: { Authorization: \"Bearer \" + jwtToken, 'Content-Type': 'application/zip' }\n    }).then(function (response) { return response.blob(); });\n};\nvar exportManifest = function (uuid) { return __awaiter(void 0, void 0, void 0, function () {\n    var triggerResponse, statusResponse, downloadResponse;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, triggerManifestExport(uuid)];\n            case 1:\n                triggerResponse = _a.sent();\n                return [4 /*yield*/, getManifestExportStatus(uuid, triggerResponse.body.exportJobID)];\n            case 2:\n                statusResponse = _a.sent();\n                return [4 /*yield*/, downloadExportedManifest(uuid, statusResponse.body.exportID)];\n            case 3:\n                downloadResponse = _a.sent();\n                return [2 /*return*/, downloadResponse];\n        }\n    });\n}); };\nvar useExportSatelliteManifest = function () {\n    return useMutation(function (exportManifestParams) {\n        return exportManifest(exportManifestParams.uuid);\n    });\n};\nexport { downloadExportedManifest, getManifestExportStatus, triggerManifestExport, useExportSatelliteManifest as default };\n","import CreateManifestButtonWithModal from './CreateManifestButtonWithModal';\nexport default CreateManifestButtonWithModal;\n","import ManifestDetailSidePanel from './ManifestDetailSidePanel';\nexport default ManifestDetailSidePanel;\n","import React, { useEffect } from 'react';\nimport { useQueryClient } from 'react-query';\nimport { Button, DrawerPanelContent, DrawerHead, DrawerActions, DrawerCloseButton, Grid, GridItem } from '@patternfly/react-core';\nimport { ErrorMessage, Processing } from '../emptyState';\nimport SCAInfoIconWithPopover from '../SCAInfoIconWithPopover';\nimport useManifestEntitlements from '../../hooks/useManifestEntitlements';\nimport './ManifestDetailSidePanel.scss';\nvar ManifestDetailSidePanel = function (_a) {\n    var isExpanded = _a.isExpanded, titleRef = _a.titleRef, drawerRef = _a.drawerRef, uuid = _a.uuid, onCloseClick = _a.onCloseClick, exportManifest = _a.exportManifest, exportManifestButtonIsDisabled = _a.exportManifestButtonIsDisabled, openCurrentEntitlementsListFromPanel = _a.openCurrentEntitlementsListFromPanel, deleteManifest = _a.deleteManifest;\n    var _b = useManifestEntitlements(uuid), entitlementData = _b.data, isLoadingEntitlementData = _b.isLoading, isFetchingEntitlementData = _b.isFetching, successFetchingEntitlementData = _b.isSuccess, errorFetchingEntitlementData = _b.isError;\n    var queryClient = useQueryClient();\n    var user = queryClient.getQueryData('user');\n    useEffect(function () {\n        if (isExpanded === true) {\n            scrollToPageTop();\n            focusOnSidePanel();\n        }\n    }, [isExpanded, successFetchingEntitlementData, isLoadingEntitlementData]);\n    var scrollToPageTop = function () {\n        if (titleRef === null || titleRef === void 0 ? void 0 : titleRef.current) {\n            titleRef.current.scrollIntoView({ behavior: 'smooth', block: 'start' });\n        }\n    };\n    var focusOnSidePanel = function () {\n        if (drawerRef === null || drawerRef === void 0 ? void 0 : drawerRef.current) {\n            drawerRef.current.focus({ preventScroll: true });\n        }\n    };\n    var handleCloseClick = function () {\n        onCloseClick();\n    };\n    var handleExportManifestClick = function () {\n        var _a = entitlementData.body, uuid = _a.uuid, name = _a.name;\n        exportManifest(uuid, name);\n        onCloseClick();\n    };\n    var LoadingDetailsContent = function () { return (React.createElement(\"div\", { className: \"manifest-detail-drawer-loading\", \"aria-label\": \"Loading Manifest Details\", tabIndex: isLoadingEntitlementData ? 0 : -1, ref: drawerRef },\n        React.createElement(Processing, null))); };\n    var DeleteManifest = function () {\n        return (React.createElement(React.Fragment, null,\n            React.createElement(\"p\", { className: \"manifest-details-delete-text\" },\n                \"Deleting a subscription allocation is \",\n                React.createElement(\"strong\", null, \"STRONGLY\"),\n                \" discouraged. This action should only be taken in extreme circumstances or for debugging purposes\"),\n            React.createElement(Button, { variant: \"tertiary\", onClick: function () {\n                    deleteManifest(uuid);\n                } }, \"Delete manifest\")));\n    };\n    var DetailsContent = function () {\n        // This handles the scenario when the API \"succeeds\" but not with a 200 status\n        if (!(entitlementData === null || entitlementData === void 0 ? void 0 : entitlementData.body))\n            return React.createElement(ErrorMessage, null);\n        var _a = entitlementData.body, uuid = _a.uuid, name = _a.name, version = _a.version, createdDate = _a.createdDate, createdBy = _a.createdBy, lastModified = _a.lastModified, entitlementsAttachedQuantity = _a.entitlementsAttachedQuantity, simpleContentAccess = _a.simpleContentAccess;\n        var formatDate = function (dateString) {\n            return new Date(dateString).toLocaleString('en-US', {\n                month: 'long',\n                year: 'numeric',\n                day: 'numeric',\n                timeZone: 'America/New_York'\n            });\n        };\n        return (React.createElement(\"div\", { className: \"manifest-details-content\" },\n            React.createElement(\"h3\", { tabIndex: successFetchingEntitlementData ? 0 : -1, ref: drawerRef }, name),\n            React.createElement(\"h4\", null, \"Details\"),\n            React.createElement(Grid, null,\n                React.createElement(GridItem, { span: 6 },\n                    React.createElement(\"strong\", null, \"Name\")),\n                React.createElement(GridItem, { span: 6 }, name),\n                React.createElement(GridItem, { span: 6 },\n                    React.createElement(\"strong\", null, \"Type\")),\n                React.createElement(GridItem, { span: 6 },\n                    \"Satellite \",\n                    version),\n                React.createElement(GridItem, { span: 6 },\n                    React.createElement(\"strong\", null, \"UUID\")),\n                React.createElement(GridItem, { span: 6 }, uuid)),\n            React.createElement(\"h4\", null, \"Subscriptions\"),\n            React.createElement(Grid, null,\n                React.createElement(GridItem, { span: 6 },\n                    React.createElement(\"strong\", null,\n                        \"Simple content access\",\n                        React.createElement(SCAInfoIconWithPopover, null))),\n                React.createElement(GridItem, { span: 6 }, user.isSCACapable === true ? simpleContentAccess : 'administratively disabled'),\n                React.createElement(GridItem, { span: 6 },\n                    React.createElement(\"strong\", null, \"Quantity\")),\n                React.createElement(GridItem, { span: 6 },\n                    React.createElement(Button, { variant: \"link\", onClick: openCurrentEntitlementsListFromPanel, className: \"manifest-details-open-entitlements-button\" }, entitlementsAttachedQuantity))),\n            React.createElement(\"h4\", null, \"History\"),\n            React.createElement(Grid, null,\n                React.createElement(GridItem, { span: 6 },\n                    React.createElement(\"strong\", null, \"Created\")),\n                React.createElement(GridItem, { span: 6 }, formatDate(createdDate)),\n                React.createElement(GridItem, { span: 6 },\n                    React.createElement(\"strong\", null, \"Created by\")),\n                React.createElement(GridItem, { span: 6 }, createdBy),\n                React.createElement(GridItem, { span: 6 },\n                    React.createElement(\"strong\", null, \"Last modified date\")),\n                React.createElement(GridItem, { span: 6 }, formatDate(lastModified))),\n            React.createElement(Button, { variant: \"tertiary\", onClick: handleExportManifestClick, isDisabled: exportManifestButtonIsDisabled }, \"Export manifest\"),\n            user.canWriteManifests && React.createElement(DeleteManifest, null)));\n    };\n    var ManifestDetailsInnerContent = function () {\n        if (errorFetchingEntitlementData === true) {\n            return React.createElement(ErrorMessage, null);\n        }\n        else if (isLoadingEntitlementData === true || isFetchingEntitlementData === true) {\n            return React.createElement(LoadingDetailsContent, null);\n        }\n        else if (successFetchingEntitlementData === true) {\n            return React.createElement(DetailsContent, null);\n        }\n    };\n    return (React.createElement(DrawerPanelContent, null,\n        React.createElement(DrawerHead, null,\n            React.createElement(ManifestDetailsInnerContent, null),\n            React.createElement(DrawerActions, null,\n                React.createElement(DrawerCloseButton, { onClick: handleCloseClick })))));\n};\nexport default ManifestDetailSidePanel;\n","import React from 'react';\nimport { Button, Checkbox, EmptyState, EmptyStateIcon, List, ListItem, Modal, ModalVariant, Spinner, Text, TextContent, TextVariants } from '@patternfly/react-core';\nimport useDeleteSatelliteManifest from '../../hooks/useDeleteSatelliteManifest';\nimport useNotifications from '../../hooks/useNotifications';\nvar DeleteManifestConfirmationModal = function (_a) {\n    var handleModalToggle = _a.handleModalToggle, onSuccess = _a.onSuccess, isOpen = _a.isOpen, name = _a.name, uuid = _a.uuid;\n    var _b = React.useState(false), checked = _b[0], setChecked = _b[1];\n    var _c = useNotifications(), addSuccessNotification = _c.addSuccessNotification, addErrorNotification = _c.addErrorNotification;\n    var _d = useDeleteSatelliteManifest(), manifestFailedToDelete = _d.isError, isDeletingManifest = _d.isLoading, manifestDeleted = _d.isSuccess, deleteManifest = _d.mutate, resetRequestStatus = _d.reset;\n    var requestCompleted = manifestDeleted || manifestFailedToDelete;\n    var handleCheckbox = function (checked, event) {\n        setChecked(event.target.checked);\n    };\n    var closeModal = function () {\n        handleModalToggle();\n        setChecked(false);\n    };\n    var resetModal = function () {\n        closeModal();\n        resetRequestStatus();\n    };\n    var actions = function () {\n        if (isDeletingManifest) {\n            return [];\n        }\n        else {\n            return [\n                React.createElement(Button, { key: \"cancel\", variant: \"link\", onClick: closeModal }, \"NO, CANCEL\"),\n                React.createElement(Button, { key: \"confirm\", variant: \"danger\", isDisabled: !checked, onClick: function () { return deleteManifest(uuid); } }, \"YES, DELETE\")\n            ];\n        }\n    };\n    var content = function () {\n        if (isDeletingManifest) {\n            return (React.createElement(EmptyState, null,\n                React.createElement(EmptyStateIcon, { variant: \"container\", component: Spinner })));\n        }\n        else {\n            return (React.createElement(TextContent, null,\n                React.createElement(Text, { component: TextVariants.p }, \"Deleting a manifest is STRONGLY discouraged. Deleting a manifest will:\"),\n                React.createElement(List, null,\n                    React.createElement(ListItem, null, \"Delete all subscriptions that are attached to running hosts.\"),\n                    React.createElement(ListItem, null, \"Delete all subscriptions attached to activation keys.\"),\n                    React.createElement(ListItem, null, \"Disable Red Hat Insights.\"),\n                    React.createElement(ListItem, null, \"Require you to upload the manifest and re-attach subscriptions to hosts and activation keys.\")),\n                React.createElement(Text, { component: TextVariants.p },\n                    React.createElement(\"strong\", null, \"Caution: this operation is permanent and cannot be undone.\")),\n                React.createElement(Checkbox, { label: \"Are you sure you want to delete this manifest?\", isChecked: checked, id: \"confirmation_checkbox\", onChange: handleCheckbox })));\n        }\n    };\n    if (manifestDeleted) {\n        onSuccess();\n        addSuccessNotification(\"Manifest \" + name + \" deleted\");\n    }\n    else if (manifestFailedToDelete) {\n        addErrorNotification('Something went wrong. Please try again');\n    }\n    if (requestCompleted)\n        resetModal();\n    return (React.createElement(Modal, { isOpen: isOpen, onClose: closeModal, title: isDeletingManifest ? \"Deleting \" + name + \"...\" : \"Delete \" + name, variant: ModalVariant.small, titleIconVariant: \"warning\", actions: actions() }, content()));\n};\nexport default DeleteManifestConfirmationModal;\n","import DeleteManifestConfirmationModal from './DeleteManifestConfirmationModal';\nexport default DeleteManifestConfirmationModal;\n","import Cookies from 'js-cookie';\nimport { useMutation, useQueryClient } from 'react-query';\nvar deleteSatelliteManifest = function (uuid) {\n    var jwtToken = Cookies.get('cs_jwt');\n    return fetch(\"/api/rhsm/v2/manifests/\" + uuid + \"?force=true\", {\n        method: 'DELETE',\n        headers: { Authorization: \"Bearer \" + jwtToken }\n    }).then(function (response) {\n        if (response.status != 204) {\n            throw new Error(\"Status Code \" + response.status + \".  Error deleting manifest: \" + response.statusText + \".\");\n        }\n    });\n};\nvar useDeleteSatelliteManifest = function () {\n    var queryClient = useQueryClient();\n    return useMutation(function (uuid) { return deleteSatelliteManifest(uuid); }, {\n        onSuccess: function (data, uuid) {\n            queryClient.setQueryData('manifests', function (oldData) {\n                return oldData.filter(function (entry) { return entry.uuid != uuid; });\n            });\n        }\n    });\n};\nexport { deleteSatelliteManifest, useDeleteSatelliteManifest as default };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { useState, useRef } from 'react';\nimport { Badge, Drawer, DrawerContent, DrawerContentBody, Flex, FlexItem, PageSection, Pagination, PaginationVariant, SearchInput, Split, SplitItem, Title } from '@patternfly/react-core';\nimport { Table, TableHeader, TableBody, SortByDirection } from '@patternfly/react-table';\nimport { countManifests, getTableHeaders, getManifestName, getRowsWithAllocationDetails } from './satelliteManifestPanelUtils';\nimport { CreateManifestPanel } from '../../components/emptyState';\nimport useNotifications from '../../hooks/useNotifications';\nimport useExportSatelliteManifest from '../../hooks/useExportSatelliteManifest';\nimport { NoSearchResults } from '../emptyState';\nimport CreateManifestButtonWithModal from '../CreateManifestButtonWithModal';\nimport { NoManifestsFound, Processing } from '../emptyState';\nimport ManifestDetailSidePanel from '../ManifestDetailSidePanel';\nimport './SatelliteManifestPanel.scss';\nimport DeleteManifestConfirmationModal from '../DeleteManifestConfirmationModal';\nvar SatelliteManifestPanel = function (_a) {\n    var data = _a.data, isFetching = _a.isFetching, user = _a.user;\n    var _b = useState(1), page = _b[0], setPage = _b[1];\n    var _c = useState(10), perPage = _c[0], setPerPage = _c[1];\n    var _d = useState(''), searchValue = _d[0], setSearchValue = _d[1];\n    var _e = useState({ index: 1, direction: SortByDirection.asc }), sortBy = _e[0], setSortBy = _e[1];\n    var _f = useState({}), rowExpandedStatus = _f[0], setRowExpandedStatus = _f[1];\n    var _g = useState(''), currentDetailUUID = _g[0], setCurrentDetailUUID = _g[1];\n    var _h = useState(false), detailsDrawerIsExpanded = _h[0], setDetailsDrawerIsExpanded = _h[1];\n    var _j = useState(null), currentDetailRowIndex = _j[0], setCurrentDetailRowIndex = _j[1];\n    var _k = useState(false), isDeleteManifestConfirmationModalOpen = _k[0], setIsDeleteManifestConfirmationModalOpen = _k[1];\n    var _l = useState(''), currentDeletionUUID = _l[0], setCurrentDeletionUUID = _l[1];\n    var _m = useState(''), currentDeletionName = _m[0], setCurrentDeletionName = _m[1];\n    var _o = useState(false), shouldAddExportSuccessNotification = _o[0], setShouldAddExportSuccessNotification = _o[1];\n    var _p = useState(''), exportedManifestName = _p[0], setExportedManifestName = _p[1];\n    var _q = useState(''), loadingManifestNotificationKey = _q[0], setLoadingManifestNotificationKey = _q[1];\n    var titleRef = useRef(null);\n    var drawerRef = useRef(null);\n    var entitlementsRowRefs = new Array(10)\n        .fill(null)\n        .map(function () { return useRef(null); });\n    var _r = useNotifications(), addInfoNotification = _r.addInfoNotification, addSuccessNotification = _r.addSuccessNotification, addErrorNotification = _r.addErrorNotification;\n    var _s = useExportSatelliteManifest(), exportedManifestData = _s.data, triggerManifestExport = _s.mutate, isLoadingManifestExport = _s.isLoading, successExportingManifest = _s.isSuccess, errorExportingManifest = _s.isError;\n    var scrollToPageTop = function () {\n        if (titleRef === null || titleRef === void 0 ? void 0 : titleRef.current) {\n            titleRef.current.scrollIntoView({ behavior: 'smooth', block: 'start' });\n        }\n    };\n    var focusOnSidePanel = function () {\n        if (drawerRef === null || drawerRef === void 0 ? void 0 : drawerRef.current) {\n            drawerRef.current.focus({ preventScroll: true });\n        }\n    };\n    var openDetailsPanel = function (uuid, rowIndex) {\n        setCurrentDetailUUID(uuid);\n        setCurrentDetailRowIndex(rowIndex);\n        setDetailsDrawerIsExpanded(true);\n        scrollToPageTop();\n        focusOnSidePanel();\n    };\n    var closeDetailsPanel = function () {\n        setDetailsDrawerIsExpanded(false);\n        setCurrentDetailUUID('');\n    };\n    var handlePerPageSelect = function (_event, perPage) {\n        setPerPage(perPage);\n        setPage(1);\n    };\n    var handleSearch = function (searchValue) {\n        setSearchValue(searchValue);\n        setPage(1);\n        collapseAllRows();\n    };\n    var handleSetPage = function (_event, page) {\n        setPage(page);\n        collapseAllRows();\n    };\n    var clearSearch = function () {\n        setSearchValue('');\n        setPage(1);\n        collapseAllRows();\n    };\n    var handleSort = function (_event, index, direction) {\n        setSortBy({ index: index, direction: direction });\n        setPage(1);\n        collapseAllRows();\n    };\n    var handleDeleteManifestConfirmationModalToggle = function () {\n        setIsDeleteManifestConfirmationModalOpen(!isDeleteManifestConfirmationModalOpen);\n    };\n    var openDeleteConfirmationModal = function (uuid) {\n        setCurrentDeletionUUID(uuid);\n        setCurrentDeletionName(getManifestName(data, uuid));\n        handleDeleteManifestConfirmationModalToggle();\n    };\n    var handleRowManifestClick = function (uuid, rowIndex) {\n        openDetailsPanel(uuid, rowIndex);\n    };\n    var toggleRowExpansion = function (rowUUID, expanded) {\n        var newRowExpandedStatus = __assign({}, rowExpandedStatus);\n        newRowExpandedStatus[rowUUID] = expanded;\n        setRowExpandedStatus(newRowExpandedStatus);\n    };\n    var toggleAllocationDetails = function (event, rowKey, isOpen, rowData) {\n        var uuid = rowData.uuid.title;\n        toggleRowExpansion(uuid, !rowExpandedStatus[uuid]);\n    };\n    var openCurrentEntitlementsListFromPanel = function () {\n        closeDetailsPanel();\n        toggleRowExpansion(currentDetailUUID, true);\n        var currentRowRef = entitlementsRowRefs[currentDetailRowIndex];\n        if (currentRowRef === null || currentRowRef === void 0 ? void 0 : currentRowRef.current) {\n            currentRowRef.current.scrollIntoView({ behavior: 'smooth', block: 'center' });\n        }\n    };\n    var collapseAllRows = function () {\n        setRowExpandedStatus({});\n    };\n    var exportManifest = function (uuid, manifestName) {\n        setExportedManifestName(manifestName);\n        setShouldAddExportSuccessNotification(true);\n        triggerManifestExport({ uuid: uuid });\n        var infoNotificationKey = addInfoNotification(\"Manifest \" + manifestName + \" exporting. This may take some time. Please wait.\", { hasTimeout: false });\n        setLoadingManifestNotificationKey(infoNotificationKey);\n    };\n    if (successExportingManifest && shouldAddExportSuccessNotification) {\n        var downloadURL = window.URL.createObjectURL(exportedManifestData);\n        addSuccessNotification(\"Manifest \" + exportedManifestName + \" Exported\", {\n            hasTimeout: false,\n            alertLinkHref: downloadURL,\n            alertLinkText: 'Download Manifest',\n            alertLinkIsDownload: true,\n            keyOfAlertToReplace: loadingManifestNotificationKey\n        });\n        setLoadingManifestNotificationKey('');\n        setShouldAddExportSuccessNotification(false);\n    }\n    if (errorExportingManifest && shouldAddExportSuccessNotification) {\n        addErrorNotification('Something went wrong. Please refresh the page and try again.', {\n            hasTimeout: false,\n            keyOfAlertToReplace: loadingManifestNotificationKey\n        });\n        setLoadingManifestNotificationKey('');\n        setShouldAddExportSuccessNotification(false);\n    }\n    var actions = function () {\n        var results = [\n            {\n                title: 'Export',\n                onClick: function (event, rowId, rowData) {\n                    var manifestName = rowData.cells[0].props.children.props.children;\n                    var uuid = rowData.uuid.title;\n                    exportManifest(uuid, manifestName);\n                }\n            }\n        ];\n        if (user.canWriteManifests) {\n            results.push({\n                title: 'Delete',\n                onClick: function (event, rowId, rowData) {\n                    openDeleteConfirmationModal(rowData.uuid.title);\n                }\n            });\n        }\n        return results;\n    };\n    var pagination = function (variant) {\n        if (variant === void 0) { variant = PaginationVariant.top; }\n        return (React.createElement(Pagination, { isDisabled: isFetching, itemCount: countManifests(data, searchValue), perPage: perPage, page: page, onSetPage: handleSetPage, onPerPageSelect: handlePerPageSelect, variant: variant }));\n    };\n    var panelContent = function () {\n        if (currentDetailUUID) {\n            return (React.createElement(ManifestDetailSidePanel, { uuid: currentDetailUUID, exportManifest: exportManifest, exportManifestButtonIsDisabled: isLoadingManifestExport, onCloseClick: closeDetailsPanel, isExpanded: detailsDrawerIsExpanded, titleRef: titleRef, drawerRef: drawerRef, openCurrentEntitlementsListFromPanel: openCurrentEntitlementsListFromPanel, deleteManifest: openDeleteConfirmationModal }));\n        }\n        else {\n            return '';\n        }\n    };\n    return (React.createElement(React.Fragment, null,\n        (data === null || data === void 0 ? void 0 : data.length) === 0 && user.canWriteManifests && React.createElement(CreateManifestPanel, null),\n        ((data === null || data === void 0 ? void 0 : data.length) > 0 || !user.canWriteManifests) && (React.createElement(PageSection, { variant: \"light\" },\n            React.createElement(Drawer, { isExpanded: detailsDrawerIsExpanded },\n                React.createElement(DrawerContent, { panelContent: panelContent() },\n                    React.createElement(DrawerContentBody, null,\n                        React.createElement(Title, { headingLevel: \"h2\" },\n                            React.createElement(\"span\", { ref: titleRef }, \"Manifests\"),\n                            !isFetching && React.createElement(Badge, { isRead: true }, countManifests(data, searchValue))),\n                        React.createElement(Flex, { direction: { default: 'column', md: 'row' }, justifyContent: { default: 'justifyContentSpaceBetween' } },\n                            React.createElement(FlexItem, null,\n                                React.createElement(Split, { hasGutter: true },\n                                    data.length > 0 && (React.createElement(SplitItem, { isFilled: true },\n                                        React.createElement(SearchInput, { placeholder: \"Filter by name, version or UUID\", value: searchValue, onChange: handleSearch, onClear: clearSearch }))),\n                                    user.canWriteManifests === true && (React.createElement(SplitItem, null,\n                                        React.createElement(CreateManifestButtonWithModal, null))))),\n                            React.createElement(FlexItem, { align: { default: 'alignRight' } }, pagination())),\n                        React.createElement(Table, { \"aria-label\": \"Satellite Manifest Table\", cells: getTableHeaders(user), rows: isFetching\n                                ? []\n                                : getRowsWithAllocationDetails(data, user, searchValue, page, perPage, rowExpandedStatus, handleRowManifestClick, entitlementsRowRefs, sortBy), onCollapse: toggleAllocationDetails, sortBy: sortBy, onSort: handleSort, actions: actions(), areActionsDisabled: function () { return isLoadingManifestExport; } },\n                            React.createElement(TableHeader, null),\n                            React.createElement(TableBody, null)),\n                        countManifests(data, searchValue) === 0 && data.length > 0 && (React.createElement(NoSearchResults, { clearFilters: clearSearch })),\n                        !isFetching && data.length === 0 && React.createElement(NoManifestsFound, null),\n                        isFetching && React.createElement(Processing, null),\n                        pagination(PaginationVariant.bottom)))))),\n        React.createElement(DeleteManifestConfirmationModal, { uuid: currentDeletionUUID, name: currentDeletionName, isOpen: isDeleteManifestConfirmationModalOpen, handleModalToggle: handleDeleteManifestConfirmationModalToggle, onSuccess: closeDetailsPanel })));\n};\nexport default SatelliteManifestPanel;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { useQuery } from 'react-query';\nimport Cookies from 'js-cookie';\nvar fetchSatelliteManifestData = function (offset) {\n    if (offset === void 0) { offset = 0; }\n    return __awaiter(void 0, void 0, void 0, function () {\n        var jwtToken, response, manifestResponseData, _a, count, limit, manifests, newOffset, additionalManifests;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    jwtToken = Cookies.get('cs_jwt');\n                    return [4 /*yield*/, fetch(\"/api/rhsm/v2/manifests?type=Satellite&offset=\" + offset, {\n                            headers: { Authorization: \"Bearer \" + jwtToken }\n                        })];\n                case 1:\n                    response = _b.sent();\n                    return [4 /*yield*/, response.json()];\n                case 2:\n                    manifestResponseData = _b.sent();\n                    _a = manifestResponseData.pagination, count = _a.count, limit = _a.limit;\n                    manifests = manifestResponseData.body;\n                    if (!(count === limit)) return [3 /*break*/, 4];\n                    newOffset = offset + limit;\n                    return [4 /*yield*/, fetchSatelliteManifestData(newOffset)];\n                case 3:\n                    additionalManifests = _b.sent();\n                    manifests.push.apply(manifests, additionalManifests);\n                    _b.label = 4;\n                case 4: return [2 /*return*/, manifests];\n            }\n        });\n    });\n};\nvar getOnlyManifestsV6AndHigher = function (data) {\n    return data.filter(function (manifest) { return parseInt(manifest.version) >= 6; });\n};\nvar getSatelliteManifests = function () { return __awaiter(void 0, void 0, void 0, function () {\n    var manifestData;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, fetchSatelliteManifestData()];\n            case 1:\n                manifestData = _a.sent();\n                return [2 /*return*/, getOnlyManifestsV6AndHigher(manifestData)];\n        }\n    });\n}); };\nvar useSatelliteManifests = function () {\n    return useQuery('manifests', function () { return getSatelliteManifests(); });\n};\nexport { fetchSatelliteManifestData, getOnlyManifestsV6AndHigher, getSatelliteManifests, useSatelliteManifests as default };\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport Main from '@redhat-cloud-services/frontend-components/Main';\nimport PageHeader from '@redhat-cloud-services/frontend-components/PageHeader';\nimport { PageHeaderTitle } from '@redhat-cloud-services/frontend-components/PageHeader';\nimport SatelliteManifestPanel from '../../components/SatelliteManifestPanel';\nimport useSatelliteManifests from '../../hooks/useSatelliteManifests';\nimport Unavailable from '@redhat-cloud-services/frontend-components/Unavailable';\nimport { Processing } from '../../components/emptyState';\nimport { useQueryClient } from 'react-query';\nimport ExternalLink from '../../components/ExternalLink';\nvar SatelliteManifestPage = function () {\n    var _a = useSatelliteManifests(), isLoading = _a.isLoading, isFetching = _a.isFetching, error = _a.error, data = _a.data;\n    var queryClient = useQueryClient();\n    var user = queryClient.getQueryData('user');\n    var manifestsMoreInfoLink = 'https://access.redhat.com/documentation/en-us/subscription_central/2021/html/' +\n        'creating_and_managing_manifests_for_a_connected_satellite_server/index';\n    return (React.createElement(React.Fragment, null,\n        React.createElement(PageHeader, null,\n            React.createElement(PageHeaderTitle, { title: \"Manifests\" }),\n            React.createElement(\"p\", null,\n                \"Export subscriptions to your on-premise subscription management application.\",\n                ' ',\n                React.createElement(ExternalLink, { href: manifestsMoreInfoLink }, \"Learn more about creating and managing manifests for a connected Satellite Server\"))),\n        React.createElement(Main, null,\n            React.createElement(React.Fragment, null,\n                isLoading && !error && React.createElement(Processing, null),\n                !isLoading && !error && (React.createElement(SatelliteManifestPanel, { data: data, user: user, isFetching: isFetching })),\n                error && React.createElement(Unavailable, null)))));\n};\nexport default withRouter(SatelliteManifestPage);\n","import SatelliteManifestPage from './SatelliteManifestPage';\n\nexport default SatelliteManifestPage;\n"],"names":["_a","entitlementsData","isLoading","isSuccess","isError","entitlementsRowRef","useEffect","current","scrollIntoView","behavior","block","focus","preventScroll","columns","title","transforms","nowrap","getFormattedDate","date","substr","rows","value","map","entitlement","formattedStartDate","startDate","formattedEndDate","endDate","subscriptionName","sku","contractNumber","entitlementQuantity","className","valid","tabIndex","ref","reason","Table","cells","borders","TableHeader","TableBody","useManifestEntitlements","uuid","useQuery","jwtToken","fetch","headers","Authorization","then","response","json","getManifestEntitlements","_b","_c","data","body","entitlementsAttached","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","queryClient","scaStatus","isChecked","toLowerCase","useQueryClient","useMutation","updateManifestSCAStatusParams","newSCAStatus","requestData","simpleContentAccess","method","JSON","stringify","status","Error","statusText","success","catch","e","console","error","onSuccess","newManifestEntryData","getQueryData","manifestEntry","updatedManifestEntry","setQueryData","updateManifestSCAQueryData","oldEntitlementsData","newEntitlementsData","updateManifestEntitlementsData","mutate","handleChange","currentSCAStatus","updateManifestSCAStatus","color","Spinner","size","Switch","id","onChange","label","labelOff","href","children","Button","variant","component","target","isInline","icon","iconPosition","Popover","headerContent","bodyContent","footerContent","onClick","event","stopPropagation","__spreadArray","to","from","il","j","getTableHeaders","user","tableHeaders","sortable","cellFormatters","expandable","cellWidth","isSCACapable","splice","formattedScaStatus","canWriteManifests","key","filterDataBySearchTerm","searchValue","filter","entry","name","includes","trim","version","countManifests","getRowsWithAllocationDetails","page","perPage","rowExpandedStatus","handleRowManifestClick","entitlementsRowRefs","sortBy","currentPageRows","first","last","filteredRows","direction","adjustedIndex","index","directionFactor","SortByDirection","sort","a","b","term1","term2","sortFilteredRows","manifestVersion","allowedSCAVersion","getFilteredRows","getSortedRows","slice","getPaginatedRows","rowsWithAllocationDetails","forEach","row","isOpen","parentIndex","expandedContent","formattedRow","rowIndex","formatRow","push","parent","fullWidth","noPadding","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","__generator","f","y","g","_","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","triggerManifestExport","getManifestExportStatus","exportJobID","setTimeout","downloadExportedManifest","exportID","blob","useExportSatelliteManifest","exportManifestParams","triggerResponse","statusResponse","isExpanded","titleRef","drawerRef","onCloseClick","exportManifest","exportManifestButtonIsDisabled","openCurrentEntitlementsListFromPanel","deleteManifest","entitlementData","isLoadingEntitlementData","isFetchingEntitlementData","isFetching","successFetchingEntitlementData","errorFetchingEntitlementData","scrollToPageTop","focusOnSidePanel","handleExportManifestClick","LoadingDetailsContent","DeleteManifest","DetailsContent","createdDate","createdBy","lastModified","entitlementsAttachedQuantity","formatDate","dateString","Date","toLocaleString","month","year","day","timeZone","Grid","GridItem","span","isDisabled","DrawerPanelContent","DrawerHead","DrawerActions","DrawerCloseButton","handleModalToggle","checked","setChecked","useNotifications","addSuccessNotification","addErrorNotification","_d","deleteSatelliteManifest","oldData","manifestFailedToDelete","isDeletingManifest","manifestDeleted","resetRequestStatus","reset","requestCompleted","closeModal","Modal","onClose","ModalVariant","titleIconVariant","actions","EmptyState","EmptyStateIcon","TextContent","Text","TextVariants","List","ListItem","Checkbox","useState","setPage","setPerPage","setSearchValue","_e","setSortBy","_f","setRowExpandedStatus","_g","currentDetailUUID","setCurrentDetailUUID","_h","detailsDrawerIsExpanded","setDetailsDrawerIsExpanded","_j","currentDetailRowIndex","setCurrentDetailRowIndex","_k","isDeleteManifestConfirmationModalOpen","setIsDeleteManifestConfirmationModalOpen","_l","currentDeletionUUID","setCurrentDeletionUUID","_m","currentDeletionName","setCurrentDeletionName","_o","shouldAddExportSuccessNotification","setShouldAddExportSuccessNotification","_p","exportedManifestName","setExportedManifestName","_q","loadingManifestNotificationKey","setLoadingManifestNotificationKey","useRef","Array","fill","_r","addInfoNotification","_s","exportedManifestData","isLoadingManifestExport","successExportingManifest","errorExportingManifest","closeDetailsPanel","handlePerPageSelect","_event","handleSetPage","collapseAllRows","clearSearch","handleDeleteManifestConfirmationModalToggle","openDeleteConfirmationModal","find","getManifestName","toggleRowExpansion","rowUUID","expanded","newRowExpandedStatus","manifestName","infoNotificationKey","hasTimeout","alertLinkHref","window","URL","createObjectURL","alertLinkText","alertLinkIsDownload","keyOfAlertToReplace","results","pagination","PaginationVariant","Pagination","itemCount","onSetPage","onPerPageSelect","PageSection","Drawer","DrawerContent","panelContent","currentRowRef","DrawerContentBody","Title","headingLevel","Badge","isRead","Flex","default","md","justifyContent","FlexItem","Split","hasGutter","SplitItem","isFilled","SearchInput","placeholder","onClear","align","openDetailsPanel","onCollapse","rowKey","rowData","onSort","rowId","props","areActionsDisabled","clearFilters","fetchSatelliteManifestData","offset","manifestResponseData","count","limit","manifests","additionalManifests","withRouter","manifest","parseInt","PageHeader","PageHeaderTitle","Main","Unavailable"],"sourceRoot":""}