(self.webpackChunksubscription_central=self.webpackChunksubscription_central||[]).push([[361],{11705:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(94015),r=n.n(a),i=n(23645),o=n.n(i)()(r());o.push([e.id,".manifests .sca-more-info-icon{color:#4c9aec;margin-left:5px;margin-top:1px;margin-bottom:-1px}\n","",{version:3,sources:["webpack://./src/components/SCAInfoIconWithPopover/SCAInfoIconWithPopover.scss"],names:[],mappings:"AAAA,+BACoB,aAAa,CAAC,eAAe,CAAC,cAAc,CAAC,kBAAkB",sourcesContent:[".manifests{\n.sca-more-info-icon{color:#4c9aec;margin-left:5px;margin-top:1px;margin-bottom:-1px}\n\n}"],sourceRoot:""}]);const l=o},46083:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(94015),r=n.n(a),i=n(23645),o=n.n(i)()(r());o.push([e.id,".manifests h2.pf-c-title{margin-bottom:20px}.manifests .pf-c-badge{margin-left:5px}.manifests .pf-c-table{margin-top:30px}\n","",{version:3,sources:["webpack://./src/components/SatelliteManifestPanel/SatelliteManifestPanel.scss"],names:[],mappings:"AAAA,yBACc,kBAAkB,CADhC,uBAC6C,eAAe,CAD5D,uBACyE,eAAe",sourcesContent:[".manifests{\nh2.pf-c-title{margin-bottom:20px}.pf-c-badge{margin-left:5px}.pf-c-table{margin-top:30px}\n\n}"],sourceRoot:""}]);const l=o},58361:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var a=n(77865),r=n.n(a),i=n(334),o=n(86350),l=n(48716),s=n(39173),c=n(17345),u=n(78443),m=n(31369),f=n(50470);const d=function(e){var t=e.href,n=e.children;return r().createElement(c.Button,{variant:"link",component:"a",href:t,target:"_blank",isInline:!0,icon:r().createElement(f.ZP,null),iconPosition:"right"},n)};n(29041);const p=function(){return r().createElement(r().Fragment,null,r().createElement(c.Popover,{"aria-label":"Learn more about Simple Content Access",headerContent:"Simple Content Access",bodyContent:r().createElement("p",null,"Simple content access is a set of capabilities that enables a change in the way Red Hat manages its subscription and entitlement enforcement model. When enabled, you are allowed to consume content on your systems without strict entitlement enforcement."),footerContent:r().createElement(d,{href:"https://access.redhat.com/documentation/en-us/subscription_central/2020-10/html/getting_started_with_subscription_watch_with_simple_content_access/assembly-activating-simplecontent#con-what-is-simplecontent_assembly-simplecontent-ctxt"},"Learn more about enabling simple content access on an existing Satellite allocation and manifest")},r().createElement(m.ZP,{className:"sca-more-info-icon",onClick:function(e){e.stopPropagation()}})))};var h=n(83161);n(44029);const g=n(58631).Z,b=function(e){var t,n,i,o,l,s=e.data,m=e.isFetching,f=e.user,d=(0,a.useState)([{title:"Name",transforms:[u.sortable]},{title:"Version",transforms:[u.sortable]},{title:r().createElement(r().Fragment,null,"Simple Content Access",r().createElement(p,null)),transforms:[u.sortable,(0,u.cellWidth)(20)]},{title:"UUID",transforms:[u.sortable]}])[0],b=(0,a.useState)(1),A=b[0],E=b[1],v=(0,a.useState)(10),C=v[0],S=v[1],w=(0,a.useState)(""),x=w[0],y=w[1],B=(0,a.useState)({index:0,direction:u.SortByDirection.asc}),P=B[0],F=B[1],I=function(e,t){S(t),E(1)},_=function(e,t){E(t)},k=function(){y(""),E(1)},L=function(){return s.filter((function(e){return(e.name||"").toLowerCase().includes(x.toLowerCase().trim())||(e.version||"").toLowerCase().includes(x.toLowerCase().trim())||(e.uuid||"").toLowerCase().includes(x.toLowerCase().trim())}))},D=function(){return L().length},Z=function(e){return void 0===e&&(e=c.PaginationVariant.top),r().createElement(c.Pagination,{isDisabled:m,itemCount:D(),perPage:C,page:A,onSetPage:_,onPerPageSelect:I,variant:e})};return r().createElement(c.PageSection,{variant:"light"},r().createElement(c.Title,{headingLevel:"h2"},"Satellite Manifests",!m&&r().createElement(c.Badge,{isRead:!0},D())),r().createElement(c.Flex,{direction:{default:"column",md:"row"},justifyContent:{default:"justifyContentSpaceBetween"}},r().createElement(c.FlexItem,null,r().createElement(c.Split,{hasGutter:!0},s.length>0&&r().createElement(c.SplitItem,{isFilled:!0},r().createElement(c.SearchInput,{placeholder:"Filter by name, version or UUID",value:x,onChange:function(e){y(e),E(1)},onClear:k})),!0===f.isOrgAdmin&&r().createElement(c.SplitItem,null,r().createElement(g,null)))),r().createElement(c.FlexItem,{align:{default:"alignRight"}},Z())),r().createElement(u.Table,{"aria-label":"Satellite Manifest Table",cells:d,rows:m?[]:(t=(A-1)*C,n=t+C,(i=P.direction,o=P.index,l=i===u.SortByDirection.desc?-1:1,L().map((function(e){return[e.name||"",e.version||"",e.simpleContentAccess||"",e.uuid||""]})).sort((function(e,t){var n=(e[o]||"").toLowerCase(),a=(t[o]||"").toLowerCase();return n<a?-1*l:n>a?1*l:0}))).slice(t,n)),sortBy:P,onSort:function(e,t,n){F({index:t,direction:n}),E(1)}},r().createElement(u.TableHeader,null),r().createElement(u.TableBody,null)),0===D()&&s.length>0&&r().createElement(h.qx,{clearFilters:k}),!m&&0===s.length&&r().createElement(h.Ox,null),m&&r().createElement(h.qb,null),Z(c.PaginationVariant.bottom))};var A=n(65629),E=n(88767),v=n(36808),C=n.n(v),S=function(){return(e=C().get("cs_jwt"),t=(0,A.iE)().rhsmAPIBase,fetch(t+"/management/v1/allocations",{headers:{Authorization:"Bearer "+e},mode:"cors"}).then((function(e){return e.json()})).catch((function(e){console.error("Error fetching Satellite Manifest data",e)}))).then((function(e){return function(e){return function(e){return void 0===e&&(e=[]),e.filter((function(e){return parseInt(e.version)>=6}))}(function(e){return void 0===e&&(e=[]),e.filter((function(e){return"Satellite"===e.type}))}(e.body))}(e)})).catch((function(e){throw new Error("Error fetching Satellite Manifest data: "+e.message)}));var e,t},w=n(20167),x=n(41011);const y=(0,i.withRouter)((function(){var e=(0,E.useQuery)("manifests",(function(){return S()})),t=e.isLoading,n=e.isFetching,i=e.error,c=e.data,u=(0,a.useContext)(x.Z).user;return r().createElement(r().Fragment,null,r().createElement(l.Z,null,r().createElement(s.Z,{title:"Satellite Manifests"}),r().createElement("p",null,"Export subscriptions to your on-premise subscription management application")),r().createElement(o.Z,null,r().createElement(r().Fragment,null,t&&!i&&r().createElement(h.qb,null),!t&&!i&&(null==c?void 0:c.length)>0&&r().createElement(b,{data:c,user:u,isFetching:n}),!t&&!i&&0===(null==c?void 0:c.length)&&!0===u.isOrgAdmin&&r().createElement(h.s3,null),!t&&!i&&0===(null==c?void 0:c.length)&&!1===u.isOrgAdmin&&r().createElement(b,{data:c,user:u,isFetching:n}),i&&r().createElement(w.Z,null))))}))},29041:(e,t,n)=>{"use strict";var a=n(93379),r=n.n(a),i=n(11705),o=r()(i.default,{insert:"head",singleton:!1});if(!i.default.locals||e.hot.invalidate){var l=i.default.locals;e.hot.accept(11705,(t=>{i=n(11705),function(e,t,n){if(!e&&t||e&&!t)return!1;var a;for(a in e)if(e[a]!==t[a])return!1;for(a in t)if(!e[a])return!1;return!0}(l,i.default.locals)?(l=i.default.locals,o(i.default)):e.hot.invalidate()}))}e.hot.dispose((function(){o()})),i.default.locals},44029:(e,t,n)=>{"use strict";var a=n(93379),r=n.n(a),i=n(46083),o=r()(i.default,{insert:"head",singleton:!1});if(!i.default.locals||e.hot.invalidate){var l=i.default.locals;e.hot.accept(46083,(t=>{i=n(46083),function(e,t,n){if(!e&&t||e&&!t)return!1;var a;for(a in e)if(e[a]!==t[a])return!1;for(a in t)if(!e[a])return!1;return!0}(l,i.default.locals)?(l=i.default.locals,o(i.default)):e.hot.invalidate()}))}e.hot.dispose((function(){o()})),i.default.locals}}]);
//# sourceMappingURL=361.48108ba0955c1bfdb575.js.map