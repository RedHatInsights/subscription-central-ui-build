{"version":3,"sources":["webpack://subscription-central/./src/App.scss","webpack://subscription-central/./src/components/Authentication/Authentication.tsx","webpack://subscription-central/./src/components/Authentication/index.ts","webpack://subscription-central/./src/utilities/platformServices.ts","webpack://subscription-central/./src/Routes.tsx","webpack://subscription-central/./src/App.js","webpack://subscription-central/./src/components/emptyState/CreateManifestPanel.tsx","webpack://subscription-central/./src/components/emptyState/NoSearchResults.tsx","webpack://subscription-central/./src/components/emptyState/Processing.tsx","webpack://subscription-central/./src/store/index.js","webpack://subscription-central/./src/App.scss?75e2","webpack://subscription-central/./src/components/Authentication/UserContext.tsx","webpack://subscription-central/./src/components/emptyState/NoManifestsFound.tsx"],"names":["___CSS_LOADER_EXPORT___","push","module","id","_a","children","_b","useState","status","isOrgAdmin","user","setUser","value","location","useLocation","useEffect","window","insights","chrome","auth","getUser","e","Error","message","authenticateUser","then","response","identity","is_org_admin","catch","pathname","UserContext","Unavailable","SatelliteManifestPage","lazy","OopsPage","NoPermissionsPage","Routes","className","Suspense","fallback","Switch","Route","exact","path","component","Redirect","to","queryClient","QueryClient","defaultOptions","retry","retryDelay","staleTime","refetchOnWindowFocus","refetchOnMount","withRouter","connect","props","getRegistry","register","notifications","notificationsReducer","init","identifyApp","on","event","history","navId","QueryClientProvider","client","childProps","EmptyState","variant","EmptyStateVariant","EmptyStateIcon","icon","Title","headingLevel","size","EmptyStateBody","Button","clearFilters","onClick","Bullseye","Spinner","middleware","promiseMiddleware","notificationsMiddleware","errorDescriptionKey","update","hot","invalidate","oldLocals","accept","a","b","isNamedExport","p","isEqualLocals","dispose","createContext"],"mappings":"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","file":"js/695.a922a8042f57c2d39279.js","sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".manifests :root{--ins-color--orange: #ec7a08}.manifests button:focus{outline:none}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/App.scss\"],\"names\":[],\"mappings\":\"AAAA,iBACM,4BAAoB,CAD1B,wBACgD,YAAY\",\"sourcesContent\":[\".manifests{\\n:root{--ins-color--orange: #ec7a08}button:focus{outline:none}\\n\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import React, { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { authenticateUser } from '../../utilities/platformServices';\nimport UserContext from './UserContext';\nimport { Processing } from '../emptyState';\nimport Unavailable from '@redhat-cloud-services/frontend-components/Unavailable';\nvar Authentication = function (_a) {\n    var children = _a.children;\n    var _b = useState({ status: 'loading', isOrgAdmin: null }), user = _b[0], setUser = _b[1];\n    var value = { user: user, setUser: setUser };\n    var location = useLocation();\n    useEffect(function () {\n        /**\n         * On every rerender, based on URL change (location.pathname),\n         * reset the user's status to loading before authenticating again.\n         */\n        setUser({ status: 'loading', isOrgAdmin: null });\n        authenticateUser()\n            .then(function (response) {\n            setUser({ status: 'loaded', isOrgAdmin: response.identity.user.is_org_admin });\n        })\n            .catch(function () {\n            setUser({ status: 'error', isOrgAdmin: null });\n        });\n    }, [location.pathname]);\n    return (React.createElement(UserContext.Provider, { value: value },\n        user.status === 'loading' && React.createElement(Processing, null),\n        user.status === 'loaded' && children,\n        user.status === 'error' && React.createElement(Unavailable, null)));\n};\nexport default Authentication;\n","import Authentication from './Authentication';\nexport default Authentication;\n","export var authenticateUser = function () {\n    try {\n        return window.insights.chrome.auth.getUser();\n    }\n    catch (e) {\n        throw new Error(\"Error authenticating user: \" + e.message);\n    }\n};\n","import { Redirect, Route, Switch } from 'react-router-dom';\nimport React, { Suspense, lazy } from 'react';\nimport { Processing } from './components/emptyState';\nimport Authentication from './components/Authentication';\nvar SatelliteManifestPage = lazy(function () { return import('./pages/SatelliteManifestPage'); });\nvar OopsPage = lazy(function () { return import('./pages/OopsPage'); });\nvar NoPermissionsPage = lazy(function () { return import('./pages/NoPermissionsPage'); });\nexport var Routes = function () { return (React.createElement(\"div\", { className: \"manifests\" },\n    React.createElement(Suspense, { fallback: React.createElement(Processing, null) },\n        React.createElement(Authentication, null,\n            React.createElement(Switch, null,\n                React.createElement(Route, { exact: true, path: \"/\", component: SatelliteManifestPage }),\n                React.createElement(Route, { path: \"/oops\", component: OopsPage }),\n                React.createElement(Route, { path: \"/no-permissions\", component: NoPermissionsPage }),\n                React.createElement(Route, null,\n                    React.createElement(Redirect, { to: \"/oops\" }))))))); };\n","import React, { useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Routes } from './Routes';\nimport './App.scss';\nimport { getRegistry } from '@redhat-cloud-services/frontend-components-utilities/Registry';\n// eslint-disable-next-line max-len\nimport NotificationsPortal from '@redhat-cloud-services/frontend-components-notifications/NotificationPortal';\n// eslint-disable-next-line max-len\nimport { notificationsReducer } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport { QueryClient, QueryClientProvider } from 'react-query';\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    retry: 5,\n    retryDelay: 10 * 1000,\n    staleTime: 5 * 60 * 1000,\n    refetchOnWindowFocus: false,\n    refetchOnMount: false\n  }\n});\n\nconst App = (props) => {\n  useEffect(() => {\n    const registry = getRegistry();\n    registry.register({ notifications: notificationsReducer });\n    insights.chrome.init();\n\n    insights.chrome.identifyApp('manifests');\n    return insights.chrome.on('APP_NAVIGATION', (event) =>\n      this.props.history.push(`/${event.navId}`)\n    );\n  }, []);\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      <NotificationsPortal />\n      <Routes childProps={props} />\n    </QueryClientProvider>\n  );\n};\n\nexport default withRouter(connect()(App));\n","import React from 'react';\nimport { Button, EmptyState, EmptyStateBody, EmptyStateIcon, EmptyStateVariant, Title } from '@patternfly/react-core';\nimport { PlusCircleIcon } from '@patternfly/react-icons/dist/js/icons/plus-circle-icon';\nvar CreateManifestPanel = function () {\n    return (React.createElement(EmptyState, { variant: EmptyStateVariant.large },\n        React.createElement(EmptyStateIcon, { icon: PlusCircleIcon }),\n        React.createElement(Title, { headingLevel: \"h2\", size: \"lg\" }, \"Create a new manifest to export subscriptions\"),\n        React.createElement(EmptyStateBody, null, \"You currently have no manifests displayed. Create a new manifest to export subscriptions from the Red Hat Customer Portal to your on-premise subscription management application.\"),\n        React.createElement(Button, { variant: \"primary\" }, \"Create new manifest\")));\n};\nexport default CreateManifestPanel;\n","import React from 'react';\nimport { Button, EmptyState, EmptyStateBody, EmptyStateIcon, EmptyStateVariant, Title } from '@patternfly/react-core';\nimport SearchIcon from '@patternfly/react-icons/dist/js/icons/search-icon';\nvar NoSearchResults = function (_a) {\n    var clearFilters = _a.clearFilters;\n    return (React.createElement(EmptyState, { variant: EmptyStateVariant.small },\n        React.createElement(EmptyStateIcon, { icon: SearchIcon }),\n        React.createElement(Title, { headingLevel: \"h2\", size: \"lg\" }, \"No results found\"),\n        React.createElement(EmptyStateBody, null, \"No results match the filter criteria. Remove all filters or clear all filters to show results.\"),\n        React.createElement(Button, { variant: \"link\", onClick: clearFilters }, \"Clear all filters\")));\n};\nexport default NoSearchResults;\n","import React from 'react';\nimport { Bullseye, Spinner } from '@patternfly/react-core';\nvar Processing = function () {\n    return (React.createElement(Bullseye, null,\n        React.createElement(Spinner, null)));\n};\nexport default Processing;\n","import { getRegistry } from '@redhat-cloud-services/frontend-components-utilities/Registry';\nimport promiseMiddleware from 'redux-promise-middleware';\n// eslint-disable-next-line max-len\nimport notificationsMiddleware from '@redhat-cloud-services/frontend-components-notifications/notificationsMiddleware';\n\nlet registry;\n\nexport function init(...middleware) {\n  registry = getRegistry({}, [\n    promiseMiddleware,\n    notificationsMiddleware({ errorDescriptionKey: ['detail', 'stack'] }),\n    ...middleware\n  ]);\n  return registry;\n}\n\nexport function getStore() {\n  return registry.getStore();\n}\n\nexport function register(...args) {\n  return registry.register(...args);\n}\n","import api from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!../node_modules/sass-loader/dist/cjs.js!./App.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n\n  var p;\n\n  for (p in a) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n\n  for (p in b) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (!a[p]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!../node_modules/sass-loader/dist/cjs.js!./App.scss\",\n      function () {\n        if (!isEqualLocals(oldLocals, content.locals, undefined)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nexport default content.locals || {};","import { createContext } from 'react';\nvar UserContext = createContext({\n    user: {\n        isOrgAdmin: null,\n        status: 'loading'\n    },\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    setUser: function () { }\n});\nexport default UserContext;\n","import React from 'react';\nimport { EmptyState, EmptyStateBody, EmptyStateIcon, EmptyStateVariant, Title } from '@patternfly/react-core';\nimport SearchIcon from '@patternfly/react-icons/dist/js/icons/search-icon';\nvar NoManifestsFound = function () {\n    return (React.createElement(EmptyState, { variant: EmptyStateVariant.small },\n        React.createElement(EmptyStateIcon, { icon: SearchIcon }),\n        React.createElement(Title, { headingLevel: \"h2\", size: \"lg\" }, \"No manifests found\"),\n        React.createElement(EmptyStateBody, null, \"No manifests were found under your account.\")));\n};\nexport default NoManifestsFound;\n"],"sourceRoot":""}