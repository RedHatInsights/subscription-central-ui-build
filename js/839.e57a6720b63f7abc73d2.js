(self.webpackChunksubscription_central=self.webpackChunksubscription_central||[]).push([[839],{9237:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(94015),i=n.n(a),r=n(23645),l=n.n(r)()(i());l.push([e.id,".manifests .manifests_entitlement-list-table{margin-top:10px;margin-bottom:20px}.manifests .manifests_entitlement-list-table thead tr{border:none}.manifests .manifests_entitlement-list-table thead th{padding-left:30px}.manifests .entitlement-list-loading-container,.manifests .no-entitlements-reason{padding:30px}.manifests .pf-c-table__expandable-row tr>td{padding:0 30px}\n","",{version:3,sources:["webpack://./src/components/ManifestEntitlementsList/ManifestEntitlementsList.scss"],names:[],mappings:"AAAA,6CACkC,eAAe,CAAC,kBAAkB,CADpE,sDACgH,WAAW,CAD3H,sDACuK,iBAAiB,CADxL,kFACqP,YAAY,CADjQ,6CACoS,cAAc",sourcesContent:[".manifests{\n.manifests_entitlement-list-table{margin-top:10px;margin-bottom:20px}.manifests_entitlement-list-table thead tr{border:none}.manifests_entitlement-list-table thead th{padding-left:30px}.entitlement-list-loading-container,.no-entitlements-reason{padding:30px}.pf-c-table__expandable-row tr>td{padding:0 30px}\n\n}"],sourceRoot:""}]);const o=l},11705:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(94015),i=n.n(a),r=n(23645),l=n.n(r)()(i());l.push([e.id,".manifests .sca-more-info-icon{color:#4c9aec;margin-left:5px;margin-top:1px;margin-bottom:-1px}\n","",{version:3,sources:["webpack://./src/components/SCAInfoIconWithPopover/SCAInfoIconWithPopover.scss"],names:[],mappings:"AAAA,+BACoB,aAAa,CAAC,eAAe,CAAC,cAAc,CAAC,kBAAkB",sourcesContent:[".manifests{\n.sca-more-info-icon{color:#4c9aec;margin-left:5px;margin-top:1px;margin-bottom:-1px}\n\n}"],sourceRoot:""}]);const o=l},46083:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(94015),i=n.n(a),r=n(23645),l=n.n(r)()(i());l.push([e.id,".manifests h2.pf-c-title{margin-bottom:20px}.manifests .pf-c-badge{margin-left:5px}.manifests .pf-c-table{margin-top:30px}\n","",{version:3,sources:["webpack://./src/components/SatelliteManifestPanel/SatelliteManifestPanel.scss"],names:[],mappings:"AAAA,yBACc,kBAAkB,CADhC,uBAC6C,eAAe,CAD5D,uBACyE,eAAe",sourcesContent:[".manifests{\nh2.pf-c-title{margin-bottom:20px}.pf-c-badge{margin-left:5px}.pf-c-table{margin-top:30px}\n\n}"],sourceRoot:""}]);const o=l},8839:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var a=n(77865),i=n.n(a),r=n(334),l=n(86350),o=n(48716),s=n(39173),c=n(17345),u=n(78443),m=n(31369),f=n(50470);const d=function(e){var t=e.href,n=e.children;return i().createElement(c.Button,{variant:"link",component:"a",href:t,target:"_blank",isInline:!0,icon:i().createElement(f.ZP,null),iconPosition:"right"},n)};n(29041);const p=function(){return i().createElement(i().Fragment,null,i().createElement(c.Popover,{"aria-label":"Learn more about Simple Content Access",headerContent:"Simple Content Access",bodyContent:i().createElement("p",null,"Simple content access is a set of capabilities that enables a change in the way Red Hat manages its subscription and entitlement enforcement model. When enabled, you are allowed to consume content on your systems without strict entitlement enforcement."),footerContent:i().createElement(d,{href:"https://access.redhat.com/documentation/en-us/subscription_central/2020-10/html/getting_started_with_subscription_watch_with_simple_content_access/assembly-activating-simplecontent#con-what-is-simplecontent_assembly-simplecontent-ctxt"},"Learn more about enabling simple content access on an existing Satellite allocation and manifest")},i().createElement(m.ZP,{className:"sca-more-info-icon",onClick:function(e){e.stopPropagation()}})))};var g=n(83161);n(44029);const h=n(58631).Z;n(65283);const b=function(e){var t=e.entitlementsData,n=e.isLoading,a=e.isSuccess,r=e.isError,l=[{title:"Subscription name",transforms:[u.nowrap]},{title:"SKU",transforms:[u.nowrap]},{title:"Contract number",transforms:[u.nowrap]},{title:"Quantity",transforms:[u.nowrap]},{title:"Start date",transforms:[u.nowrap]},{title:"End date",transforms:[u.nowrap]}],o=function(e){return e?e.substr(0,4)+"-"+e.substr(5,2)+"-"+e.substr(8,2):""},s=[];(null==t?void 0:t.value)&&(s=null==t?void 0:t.value.map((function(e){var t=o(e.startDate),n=o(e.endDate);return[e.subscriptionName||"",e.sku,e.contractNumber,e.entitlementQuantity,t,n]})));var c=[{title:"Remove Subscription",onClick:function(e,t,n){console.log("clicked on Some action, on row: ",t,n)}},{title:"Move Subscription",onClick:function(e,t,n){console.log("clicked on Some action, on row: ",t,n)}}];return i().createElement(i().Fragment,null,n&&!r&&i().createElement("div",{className:"entitlement-list-loading-container"},i().createElement(g.qb,null)),a&&!t.valid&&i().createElement("div",{className:"no-entitlements-reason"},i().createElement("p",null,t.reason)),a&&t.valid&&i().createElement(u.Table,{"aria-label":"Allocations table",cells:l,rows:s,borders:!1,actions:c,className:"manifests_entitlement-list-table"},i().createElement(u.TableHeader,null),i().createElement(u.TableBody,null)),r&&"Something went wrong.  Please refresh the page and try again.")};var A=n(88767),v=n(36808),E=n.n(v),C=n(85186);const S=function(e){var t,n=function(e){return(0,A.useQuery)(["manifestEntitlements",e],(function(){return function(e){var t=E().get("cs_jwt"),n=(0,C.iE)().rhsmAPIBase;return fetch(n+"/management/v1/allocations/"+e+"?include=entitlements",{headers:{Authorization:"Bearer "+t},mode:"cors"}).then((function(e){return e.json()})).catch((function(e){console.error("Error fetching Manifest Entitlements data",e)}))}(e)}))}(e.uuid),a=n.isLoading,r=n.isSuccess,l=n.isError,o=n.data;return i().createElement(b,{isLoading:a,isSuccess:r,isError:l,entitlementsData:null===(t=null==o?void 0:o.body)||void 0===t?void 0:t.entitlementsAttached})};var w=function(e,t){for(var n=0,a=t.length,i=e.length;n<a;n++,i++)e[i]=t[n];return e};const x=function(e){var t,n,r,l,o,s,m,f=e.data,d=e.isFetching,b=e.user,A=(0,a.useState)([{title:"Name",transforms:[u.sortable],cellFormatters:[u.expandable]},{title:"Version",transforms:[u.sortable]},{title:i().createElement(i().Fragment,null,"Simple Content Access",i().createElement(p,null)),transforms:[u.sortable,(0,u.cellWidth)(20)]},{title:"UUID",transforms:[u.sortable]}])[0],v=(0,a.useState)(1),E=v[0],C=v[1],x=(0,a.useState)(10),y=x[0],_=x[1],B=(0,a.useState)(""),k=B[0],P=B[1],D=(0,a.useState)({index:1,direction:u.SortByDirection.asc}),L=D[0],F=D[1],I=(0,a.useState)(new Array(10).fill(!1)),M=I[0],R=I[1],T=function(e,t){_(t),C(1)},Z=function(e,t){C(t),H()},j=function(){P(""),C(1),H()},N=function(){return f.filter((function(e){return(e.name||"").toLowerCase().includes(k.toLowerCase().trim())||(e.version||"").toLowerCase().includes(k.toLowerCase().trim())||(e.uuid||"").toLowerCase().includes(k.toLowerCase().trim())}))},W=function(){return N().length},q=function(e){return void 0===e&&(e=c.PaginationVariant.top),i().createElement(c.Pagination,{isDisabled:d,itemCount:W(),perPage:y,page:E,onSetPage:Z,onPerPageSelect:T,variant:e})},H=function(){var e=new Array(10).fill(!1);R(e)};return i().createElement(c.PageSection,{variant:"light"},i().createElement(c.Title,{headingLevel:"h2"},"Satellite Manifests",!d&&i().createElement(c.Badge,{isRead:!0},W())),i().createElement(c.Flex,{direction:{default:"column",md:"row"},justifyContent:{default:"justifyContentSpaceBetween"}},i().createElement(c.FlexItem,null,i().createElement(c.Split,{hasGutter:!0},f.length>0&&i().createElement(c.SplitItem,{isFilled:!0},i().createElement(c.SearchInput,{placeholder:"Filter by name, version or UUID",value:k,onChange:function(e){P(e),C(1),H()},onClear:j})),!0===b.isOrgAdmin&&i().createElement(c.SplitItem,null,i().createElement(h,null)))),i().createElement(c.FlexItem,{align:{default:"alignRight"}},q())),i().createElement(u.Table,{"aria-label":"Satellite Manifest Table",cells:A,rows:d?[]:(n=(t=(E-1)*y)+y,r=(o=L.direction,s=L.index-1,m=o===u.SortByDirection.desc?-1:1,N().map((function(e){return[e.name||"",e.version||"",e.simpleContentAccess||"",e.uuid||""]})).sort((function(e,t){var n=(e[s]||"").toLowerCase(),a=(t[s]||"").toLowerCase();return n<a?-1*m:n>a?1*m:0}))).slice(t,n),l=[],r.forEach((function(e,t){var n=M[t],a=e[3],r=2*(t+1)-2,o=n?i().createElement(S,{uuid:a}):"";l.push({isOpen:n,cells:w([],e)}),l.push({parent:r,fullWidth:!0,noPadding:!0,cells:[{title:o}]})})),l),onCollapse:function(e,t,n){var a=t/2,i=w([],M);i[a]=n,R(i)},sortBy:L,onSort:function(e,t,n){F({index:t,direction:n}),C(1),H()}},i().createElement(u.TableHeader,null),i().createElement(u.TableBody,null)),0===W()&&f.length>0&&i().createElement(g.qx,{clearFilters:j}),!d&&0===f.length&&i().createElement(g.Ox,null),d&&i().createElement(g.qb,null),q(c.PaginationVariant.bottom))};var y=function(){return(e=E().get("cs_jwt"),t=(0,C.iE)().rhsmAPIBase,fetch(t+"/management/v1/allocations",{headers:{Authorization:"Bearer "+e},mode:"cors"}).then((function(e){return e.json()})).catch((function(e){console.error("Error fetching Satellite Manifest data",e)}))).then((function(e){return function(e){return function(e){return void 0===e&&(e=[]),e.filter((function(e){return parseInt(e.version)>=6}))}(function(e){return void 0===e&&(e=[]),e.filter((function(e){return"Satellite"===e.type}))}(e.body))}(e)})).catch((function(e){throw new Error("Error fetching Satellite Manifest data: "+e.message)}));var e,t},_=n(20167),B=n(41011);const k=(0,r.withRouter)((function(){var e=(0,A.useQuery)("manifests",(function(){return y()})),t=e.isLoading,n=e.isFetching,r=e.error,c=e.data,u=(0,a.useContext)(B.Z).user;return i().createElement(i().Fragment,null,i().createElement(o.Z,null,i().createElement(s.Z,{title:"Satellite Manifests"}),i().createElement("p",null,"Export subscriptions to your on-premise subscription management application")),i().createElement(l.Z,null,i().createElement(i().Fragment,null,t&&!r&&i().createElement(g.qb,null),!t&&!r&&(null==c?void 0:c.length)>0&&i().createElement(x,{data:c,user:u,isFetching:n}),!t&&!r&&0===(null==c?void 0:c.length)&&!0===u.isOrgAdmin&&i().createElement(g.s3,null),!t&&!r&&0===(null==c?void 0:c.length)&&!1===u.isOrgAdmin&&i().createElement(x,{data:c,user:u,isFetching:n}),r&&i().createElement(_.Z,null))))}))},65283:(e,t,n)=>{"use strict";var a=n(93379),i=n.n(a),r=n(9237),l=i()(r.default,{insert:"head",singleton:!1});if(!r.default.locals||e.hot.invalidate){var o=r.default.locals;e.hot.accept(9237,(t=>{r=n(9237),function(e,t,n){if(!e&&t||e&&!t)return!1;var a;for(a in e)if(e[a]!==t[a])return!1;for(a in t)if(!e[a])return!1;return!0}(o,r.default.locals)?(o=r.default.locals,l(r.default)):e.hot.invalidate()}))}e.hot.dispose((function(){l()})),r.default.locals},29041:(e,t,n)=>{"use strict";var a=n(93379),i=n.n(a),r=n(11705),l=i()(r.default,{insert:"head",singleton:!1});if(!r.default.locals||e.hot.invalidate){var o=r.default.locals;e.hot.accept(11705,(t=>{r=n(11705),function(e,t,n){if(!e&&t||e&&!t)return!1;var a;for(a in e)if(e[a]!==t[a])return!1;for(a in t)if(!e[a])return!1;return!0}(o,r.default.locals)?(o=r.default.locals,l(r.default)):e.hot.invalidate()}))}e.hot.dispose((function(){l()})),r.default.locals},44029:(e,t,n)=>{"use strict";var a=n(93379),i=n.n(a),r=n(46083),l=i()(r.default,{insert:"head",singleton:!1});if(!r.default.locals||e.hot.invalidate){var o=r.default.locals;e.hot.accept(46083,(t=>{r=n(46083),function(e,t,n){if(!e&&t||e&&!t)return!1;var a;for(a in e)if(e[a]!==t[a])return!1;for(a in t)if(!e[a])return!1;return!0}(o,r.default.locals)?(o=r.default.locals,l(r.default)):e.hot.invalidate()}))}e.hot.dispose((function(){l()})),r.default.locals}}]);
//# sourceMappingURL=839.e57a6720b63f7abc73d2.js.map