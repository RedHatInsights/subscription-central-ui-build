(self.webpackChunksubscription_central=self.webpackChunksubscription_central||[]).push([[862],{11705:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(94015),r=n.n(a),o=n(23645),i=n.n(o)()(r());i.push([e.id,".manifests .sca-more-info-icon{color:#4c9aec;margin-left:5px;margin-top:1px;margin-bottom:-1px}\n","",{version:3,sources:["webpack://./src/components/SCAInfoIconWithPopover/SCAInfoIconWithPopover.scss"],names:[],mappings:"AAAA,+BACoB,aAAa,CAAC,eAAe,CAAC,cAAc,CAAC,kBAAkB",sourcesContent:[".manifests{\n.sca-more-info-icon{color:#4c9aec;margin-left:5px;margin-top:1px;margin-bottom:-1px}\n\n}"],sourceRoot:""}]);const l=i},46083:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(94015),r=n.n(a),o=n(23645),i=n.n(o)()(r());i.push([e.id,".manifests h2.pf-c-title{margin-bottom:20px}.manifests .pf-c-badge{margin-left:5px}.manifests .pf-c-table{margin-top:30px}\n","",{version:3,sources:["webpack://./src/components/SatelliteManifestPanel/SatelliteManifestPanel.scss"],names:[],mappings:"AAAA,yBACc,kBAAkB,CADhC,uBAC6C,eAAe,CAD5D,uBACyE,eAAe",sourcesContent:[".manifests{\nh2.pf-c-title{margin-bottom:20px}.pf-c-badge{margin-left:5px}.pf-c-table{margin-top:30px}\n\n}"],sourceRoot:""}]);const l=i},35862:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var a=n(77865),r=n.n(a),o=n(334),i=n(86350),l=n(48716),s=n(39173),c=n(17345),u=n(78443),m=n(31369),f=n(50470);const d=function(e){var t=e.href,n=e.children;return r().createElement(c.Button,{variant:"link",component:"a",href:t,target:"_blank",isInline:!0,icon:r().createElement(f.ZP,null),iconPosition:"right"},n)};n(29041);const p=function(){return r().createElement(r().Fragment,null,r().createElement(c.Popover,{"aria-label":"Learn more about Simple Content Access",headerContent:"Simple Content Access",bodyContent:r().createElement("p",null,"Simple content access is a set of capabilities that enables a change in the way Red Hat manages its subscription and entitlement enforcement model. When enabled, you are allowed to consume content on your systems without strict entitlement enforcement."),footerContent:r().createElement(d,{href:"https://access.redhat.com/documentation/en-us/subscription_central/2020-10/html/getting_started_with_subscription_watch_with_simple_content_access/assembly-activating-simplecontent#con-what-is-simplecontent_assembly-simplecontent-ctxt"},"Learn more about enabling simple content access on an existing Satellite allocation and manifest")},r().createElement(m.ZP,{className:"sca-more-info-icon",onClick:function(e){e.stopPropagation()}})))};var h=n(31394),g=(n(44029),n(2789));const A=function(e){var t,n,o,i,l,s=e.data,m=e.user,f=(0,a.useState)([{title:"Name",transforms:[u.sortable]},{title:"Version",transforms:[u.sortable]},{title:r().createElement(r().Fragment,null,"Simple Content Access",r().createElement(p,null)),transforms:[u.sortable,(0,u.cellWidth)(20)]},{title:"UUID",transforms:[u.sortable]}])[0],d=(0,a.useState)(1),A=d[0],b=d[1],v=(0,a.useState)(10),C=v[0],E=v[1],S=(0,a.useState)(""),w=S[0],x=S[1],y=(0,a.useState)({index:0,direction:u.SortByDirection.asc}),B=y[0],P=y[1],_=function(e,t){E(t),b(1)},k=function(e,t){b(t)},I=function(){x(""),b(1)},L=function(){return s.filter((function(e){return(e.name||"").toLowerCase().includes(w.toLowerCase().trim())||(e.version||"").toLowerCase().includes(w.toLowerCase().trim())||(e.uuid||"").toLowerCase().includes(w.toLowerCase().trim())}))},F=function(){return L().length},Z=function(e){return void 0===e&&(e=c.PaginationVariant.top),r().createElement(c.Pagination,{itemCount:F(),perPage:C,page:A,onSetPage:k,onPerPageSelect:_,variant:e})};return r().createElement(c.PageSection,{variant:"light"},r().createElement(c.Title,{headingLevel:"h2"},"Satellite Manifests",r().createElement(c.Badge,{isRead:!0},F())),r().createElement(c.Flex,{direction:{default:"column",md:"row"},justifyContent:{default:"justifyContentSpaceBetween"}},r().createElement(c.FlexItem,null,r().createElement(c.Split,{hasGutter:!0},r().createElement(c.SplitItem,{isFilled:!0},r().createElement(c.SearchInput,{placeholder:"Filter by name, version or UUID",value:w,onChange:function(e){x(e),b(1)},onClear:I})),!0===m.isOrgAdmin&&r().createElement(c.SplitItem,null,r().createElement(c.Button,{variant:"primary"},"Create new manifest")))),r().createElement(c.FlexItem,{align:{default:"alignRight"}},Z())),r().createElement(u.Table,{"aria-label":"Satellite Manifest Table",cells:f,rows:(t=(A-1)*C,n=t+C,(o=B.direction,i=B.index,l=o===u.SortByDirection.desc?-1:1,L().map((function(e){return[e.name||"",e.version||"",e.simpleContentAccess||"",e.uuid||""]})).sort((function(e,t){var n=(e[i]||"").toLowerCase(),a=(t[i]||"").toLowerCase();return n<a?-1*l:n>a?1*l:0}))).slice(t,n)),sortBy:B,onSort:function(e,t,n){P({index:t,direction:n}),b(1)}},r().createElement(u.TableHeader,null),r().createElement(u.TableBody,null)),0===F()&&s.length>0&&r().createElement(h.qx,{clearFilters:I}),0===s.length&&r().createElement(g.Z,null),Z(c.PaginationVariant.bottom))};var b=n(88767),v=n(36808),C=n.n(v),E=function(){return(e=C().get("cs_jwt"),fetch("https://api.access.qa.redhat.com/management/v1/allocations",{headers:{Authorization:"Bearer "+e},mode:"cors"}).then((function(e){return e.json()})).catch((function(e){console.error("Error fetching Satellite Manifest data",e)}))).then((function(e){return function(e){return function(e){return void 0===e&&(e=[]),e.filter((function(e){return parseInt(e.version)>=6}))}(function(e){return void 0===e&&(e=[]),e.filter((function(e){return"Satellite"===e.type}))}(e.body))}(e)})).catch((function(e){throw new Error("Error fetching Satellite Manifest data: "+e.message)}));var e},S=n(20167),w=n(41011);const x=(0,o.withRouter)((function(){var e=(0,b.useQuery)("manifests",(function(){return E()})),t=e.isLoading,n=e.error,o=e.data,c=(0,a.useContext)(w.Z).user;return r().createElement(r().Fragment,null,r().createElement(l.Z,null,r().createElement(s.Z,{title:"Satellite Manifests"}),r().createElement("p",null,"Export subscriptions to your on-premise subscription management application")),r().createElement(i.Z,null,r().createElement(r().Fragment,null,t&&r().createElement(h.qb,null),!t&&(null==o?void 0:o.length)>0&&r().createElement(A,{data:o,user:c}),!t&&0===(null==o?void 0:o.length)&&!0===c.isOrgAdmin&&r().createElement(h.s3,null),!t&&0===(null==o?void 0:o.length)&&!1===c.isOrgAdmin&&r().createElement(A,{data:o,user:c}),n&&r().createElement(S.Z,null))))}))},29041:(e,t,n)=>{"use strict";var a=n(93379),r=n.n(a),o=n(11705),i=r()(o.default,{insert:"head",singleton:!1});if(!o.default.locals||e.hot.invalidate){var l=o.default.locals;e.hot.accept(11705,(t=>{o=n(11705),function(e,t,n){if(!e&&t||e&&!t)return!1;var a;for(a in e)if(e[a]!==t[a])return!1;for(a in t)if(!e[a])return!1;return!0}(l,o.default.locals)?(l=o.default.locals,i(o.default)):e.hot.invalidate()}))}e.hot.dispose((function(){i()})),o.default.locals},44029:(e,t,n)=>{"use strict";var a=n(93379),r=n.n(a),o=n(46083),i=r()(o.default,{insert:"head",singleton:!1});if(!o.default.locals||e.hot.invalidate){var l=o.default.locals;e.hot.accept(46083,(t=>{o=n(46083),function(e,t,n){if(!e&&t||e&&!t)return!1;var a;for(a in e)if(e[a]!==t[a])return!1;for(a in t)if(!e[a])return!1;return!0}(l,o.default.locals)?(l=o.default.locals,i(o.default)):e.hot.invalidate()}))}e.hot.dispose((function(){i()})),o.default.locals}}]);
//# sourceMappingURL=862.145a31dfb91ad6b19d62.js.map